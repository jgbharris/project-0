"use strict";$(function(){function o(o,l,e){console.log(""+o),responsiveVoice.speak(""+o),t.src="sounds/"+l+".wav",t.play(),n.pause(),d.html(""+o),p.css("background-image","url(public/css/"+e+")")}function l(o){console.log("change background!"),p.css("background-image","url(public/css/"+o+")")}console.log("Woohoo!!!!!!");var e=$("#startgame"),n=$("#audiobackground")[0],a=$("#audioclick")[0],t=$("#audiowin")[0],c=prompt("Player 1 please enter your name?"),r=prompt("Player 2 please enter your name?"),s=$(".cell"),i=null,u=$("#reset"),g=$("#stopmusic"),h=$("#sunbackground"),m=$("#tronbackground"),f=$("#trianglebackground"),p=$("body"),d=$(".playerdisplay"),k="vertical win",b="win",q="taco.gif",y="horizontal win",v="mandance.gif",w="diagonal win",M="celebration.gif";e.on("click",function(o){console.log("clicked"),n.src="sounds/arcadefunk.mp3",n.play(),responsiveVoice.speak("Hello "+c+" and "+r+"  and welcome to funky laser connect 4")}),g.on("click",function(o){console.log("stop music!"),n.pause()}),h.on("click",function(){l("sunbackground.gif")}),m.on("click",function(){l("tronwallpaper.png")}),f.on("click",function(){l("lasertriangle.gif")}),s.on("click",function(l){var e=i%2==0?"#00FFFF":"#FF00CC",n=i%2==0?"X":"O";if($(l.target).hasClass("playable")){var t=$(l.target).index();$(l.target).html(n),$(l.target).css("background-color",e),$(l.target).removeClass("playable"),$(l.target).addClass("notplayable"),s.eq(t-7).removeClass("notplayable").addClass("playable"),i++,function(l){console.log("index",l,s.eq(l+7)),s.eq(l).html()===s.eq(l+7).html()&&s.eq(l+7).html()===s.eq(l+14).html()&&s.eq(l+14).html()===s.eq(l+21).html()&&o(k,b,q),(s.eq(l).html()===s.eq(l+6).html()&&s.eq(l+6).html()===s.eq(l+12).html()&&s.eq(l+12).html()===s.eq(l+18).html()||s.eq(l).html()===s.eq(l+8).html()&&s.eq(l+8).html()===s.eq(l+16).html()&&s.eq(l+16).html()===s.eq(l+24).html())&&o(w,b,M),console.log(Math.floor(l/7),Math.floor((l-3)/7),Math.floor((l+3)/7)),Math.floor(l/7)!==Math.floor((l-3)/7)&&Math.floor(l/7)!==Math.floor((l+3)/7)||function(){console.log("checking horizontal win");for(var e=7*Math.floor(l/7)+6,n=0;e>=7*Math.floor(l/7)+3;){if([0,-1,-2,-3].forEach(function(o){console.log(i%2==0?"O":"X"),s.eq(e+o).html()===(i%2==0?"O":"X")&&n++}),4===n){o(y,b,v);break}e--,n=0}}()}(t),a.src="sounds/boing1.wav",a.play()}u.on("click",function(o){s.html(" "),s.css("background","transparent")})})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwidmljdG9yeSIsIkEiLCJCIiwiQyIsImNvbnNvbGUiLCJzcGVhayIsInJlc3BvbnNpdmVWb2ljZSIsIiRhdWRpbzIiLCJzcmMiLCIkYXVkaW8iLCJodG1sIiwiJHBsYXllckRpc3BsYXkiLCJjaGFuZ2VCYWNrZ3JvdW5kIiwiRCIsImxvZyIsIiRzdGFydGdhbWUiLCIkYXVkaW8xIiwicHJvbXB0IiwiYXNrUGxheWVyTmFtZTEiLCJhc2tQbGF5ZXJOYW1lMiIsIiRjZWxscyIsInR1cm5Db3VudGVyIiwiJHJlc2V0QnV0dG9uIiwiJHN0b3BNdXNpYyIsIiRzdW5CYWNrZ3JvdW5kIiwiJHRyb25CYWNrZ3JvdW5kIiwiJHRyaWFuZ2xlQmFja2dyb3VuZCIsIiRib2R5IiwidldpbiIsIndpblNvdW5kIiwidldpbkJhY2tncm91bmQiLCJoV2luIiwiaFdpbkJhY2tncm91bmQiLCJvbiIsImUiLCJwbGF5IiwicGF1c2UiLCJkV2luQmFja2dyb3VuZCIsImNvbG9yIiwiY291bnRlciIsImhhc0NsYXNzIiwiaW5kZXgiLCJ0YXJnZXQiLCJjc3MiLCJyZW1vdmVDbGFzcyIsImFkZENsYXNzIiwiY2hlY2tGb3JXaW4iLCJlcSIsIk1hdGgiLCJmbG9vciIsInRvcE9mUm93IiwiZm9yRWFjaCIsImkiLCJzdHJlYWsiXSwibWFwcGluZ3MiOiJZQUFBQSxHQUFFLFdBZ0NBLFFBQVNDLEdBQVNDLEVBQUVDLEVBQUVDLEdBQXRCQyxRQUFTSixJQUFULEdBQWtCQyxHQUNoQkcsZ0JBQUFDLE1BQUFELEdBQUFILEdBQ0FLLEVBQUFBLElBQUFBLFVBQUFKLEVBQUFJLE9BQ0FDLEVBQVFDLE9BQ1JELEVBQUFBLFFBQ0FFLEVBQUFDLEtBQUFELEdBQUFSLEdBQ0FVLEVBQUFBLElBQUFBLG1CQUFBQSxrQkFBQVIsRUFBQVEsS0FJRixRQUFTQyxHQUFrQkMsR0FBM0JULFFBQVNRLElBQUFBLHNCQUNQUixFQUFBQSxJQUFRVSxtQkFBUlYsa0JBQUFT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YUUsRUFBYixHQUFxQkgsS0FBQUMsT0FBT1IsRUFBQSxHQUFBLEdBQUFPLEtBQUFDLE9BQUFSLEVBQUEsR0FBQSxJQUUxQk8sS0FBQUMsTUFBRzdCLEVBQUEsS0FBVThCLEtBQVdFLE9BQXJCWCxFQUFBLEdBQW9DcEIsSUFBQUEsS0FBQUEsTUFBQW9CLEVBQXdCLEtBQU1PLEtBQU1DLE9BQUFSLEVBQUEsR0FBQSxJQUFBLFdBQ3pFWSxRQUFBQSxJQUFBQSwwQkFLRnJELEtBSEQsR0FBQWtELEdBTEQsRUFBQUYsS0FBQUMsTUFBQVIsRUFBQSxHQUFBLEVBSkVZLEVBQVUsRUFZVnJELEdBQXNCZ0MsRUFBdEJnQixLQUFhbkIsTUFBYlksRUFBc0JULEdBQXRCLEdBQUEsQ0FXUCxJQVRNLEdBQUEsR0FBQSxHQUFBLEdBQUFtQixRQUFBLFNBQUFDLEdBVENoRCxRQUFRVSxJQUFLTyxFQUFjLEdBQU0sRUFBSSxJQUFNLEtBVzdDNkIsRUFBQUEsR0FBQUEsRUFBQUEsR0FBQUEsVUFBQUEsRUFBQUEsR0FBQUEsRUFBQUEsSUFBQUEsTUFDQUcsTUFNTCxJQUFBQSxFQUFBLENBcEZIckQsRUFBQStCLEVBQUFGLEVBQUFHLEVBdEZGLE9BbUtVa0IsSUFDQUcsRUFBUyxPQWxFYlosR0FDQXpCLEVBQVFtQixJQUFSLG9CQUNEbkIsRUFBQW1CLE9BS0NmLEVBQUFhLEdBQVksUUFBWixTQUFBQyxHQUNBZCxFQUFPdUIsS0FBSSxLQUZidkIsRUFBQXVCLElBQUEsYUFBQSIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIkKCgpID0+IHtcbiAgY29uc29sZS5sb2coJ1dvb2hvbyEhISEhIScpO1xuXG4gIC8vIENPTlNUQU5UUyBFVEMgLy9cblxuICBjb25zdCAkc3RhcnRnYW1lID0gJCgnI3N0YXJ0Z2FtZScpO1xuICBjb25zdCAkYXVkaW8gPSAkKCcjYXVkaW9iYWNrZ3JvdW5kJylbMF07XG4gIGNvbnN0ICRhdWRpbzEgPSAkKCcjYXVkaW9jbGljaycpWzBdO1xuICBjb25zdCAkYXVkaW8yID0gJCgnI2F1ZGlvd2luJylbMF07XG4gIGNvbnN0IGFza1BsYXllck5hbWUxID0gcHJvbXB0KCdQbGF5ZXIgMSBwbGVhc2UgZW50ZXIgeW91ciBuYW1lPycpO1xuICBjb25zdCBhc2tQbGF5ZXJOYW1lMiA9IHByb21wdCgnUGxheWVyIDIgcGxlYXNlIGVudGVyIHlvdXIgbmFtZT8nKTtcbiAgY29uc3QgJGNlbGxzID0gJCgnLmNlbGwnKTtcbiAgbGV0IHR1cm5Db3VudGVyID0gbnVsbDtcbiAgY29uc3QgJHJlc2V0QnV0dG9uID0gJCgnI3Jlc2V0Jyk7XG4gIGNvbnN0ICRzdG9wTXVzaWMgPSAkKCcjc3RvcG11c2ljJyk7XG4gIGNvbnN0ICRzdW5CYWNrZ3JvdW5kID0gJCgnI3N1bmJhY2tncm91bmQnKTtcbiAgY29uc3QgJHRyb25CYWNrZ3JvdW5kID0gJCgnI3Ryb25iYWNrZ3JvdW5kJyk7XG4gIGNvbnN0ICR0cmlhbmdsZUJhY2tncm91bmQgPSAkKCcjdHJpYW5nbGViYWNrZ3JvdW5kJyk7XG4gIGNvbnN0ICRib2R5ID0gJCgnYm9keScpO1xuICBjb25zdCAkcGxheWVyRGlzcGxheSA9ICQoJy5wbGF5ZXJkaXNwbGF5Jyk7XG4gIGNvbnN0IHZXaW4gPSAndmVydGljYWwgd2luJztcbiAgY29uc3Qgd2luU291bmQgPSAnd2luJztcbiAgY29uc3QgdldpbkJhY2tncm91bmQgPSAndGFjby5naWYnO1xuICBjb25zdCBoV2luID0gJ2hvcml6b250YWwgd2luJztcbiAgY29uc3QgaFdpbkJhY2tncm91bmQgPSAnbWFuZGFuY2UuZ2lmJztcbiAgY29uc3QgZFdpbiA9ICdkaWFnb25hbCB3aW4nO1xuICBjb25zdCBkV2luQmFja2dyb3VuZCA9ICdjZWxlYnJhdGlvbi5naWYnO1xuICBjb25zdCBzdW5CZ0ZpbGUgPSAnc3VuYmFja2dyb3VuZC5naWYnO1xuICBjb25zdCB0cm9uQmdGaWxlID0gJ3Ryb253YWxscGFwZXIucG5nJztcbiAgY29uc3QgdHJpYW5nbGVCZ0ZpbGUgPSAnbGFzZXJ0cmlhbmdsZS5naWYnO1xuXG5cbiAgZnVuY3Rpb24gdmljdG9yeSAoQSxCLEMpIHtcbiAgICBjb25zb2xlLmxvZyhgJHtBfWApO1xuICAgIHJlc3BvbnNpdmVWb2ljZS5zcGVhayhgJHtBfWApO1xuICAgICRhdWRpbzIuc3JjID0gYHNvdW5kcy8ke0J9LndhdmA7XG4gICAgJGF1ZGlvMi5wbGF5KCk7XG4gICAgJGF1ZGlvLnBhdXNlKCk7XG4gICAgJHBsYXllckRpc3BsYXkuaHRtbChgJHtBfWApO1xuICAgICRib2R5LmNzcygnYmFja2dyb3VuZC1pbWFnZScsIGB1cmwocHVibGljL2Nzcy8ke0N9KWApO1xuICB9XG5cbiAgZnVuY3Rpb24gY2hhbmdlQmFja2dyb3VuZCAoRCkge1xuICAgIGNvbnNvbGUubG9nKCdjaGFuZ2UgYmFja2dyb3VuZCEnKTtcbiAgICAkYm9keS5jc3MoJ2JhY2tncm91bmQtaW1hZ2UnLCBgdXJsKHB1YmxpYy9jc3MvJHtEfSlgKTtcbiAgfVxuXG5cbiAgLy8gR0FNRSBTRVQgVVAgQlVUVE9OIC8vXG5cbiAgJHN0YXJ0Z2FtZS5vbignY2xpY2snLCAoZSkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdjbGlja2VkJyk7XG4gICAgJGF1ZGlvLnNyYyA9ICdzb3VuZHMvYXJjYWRlZnVuay5tcDMnO1xuICAgICRhdWRpby5wbGF5KCk7XG4gICAgcmVzcG9uc2l2ZVZvaWNlLnNwZWFrKGBIZWxsbyAke2Fza1BsYXllck5hbWUxfSBhbmQgJHthc2tQbGF5ZXJOYW1lMn0gIGFuZCB3ZWxjb21lIHRvIGZ1bmt5IGxhc2VyIGNvbm5lY3QgNGApO1xuICB9KTtcblxuICAvL1NUT1AgTVVTSUMgQlVUVE9OLy9cblxuICAkc3RvcE11c2ljLm9uKCdjbGljaycsIChlKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ3N0b3AgbXVzaWMhJyk7XG4gICAgJGF1ZGlvLnBhdXNlKCk7XG4gIH0pO1xuXG4gIC8vU1VOIEJBQ0tHUk9VTkQgQlVUVE9OLy9cblxuICAkc3VuQmFja2dyb3VuZC5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgY2hhbmdlQmFja2dyb3VuZChzdW5CZ0ZpbGUpO1xuICB9KTtcblxuLy9UUk9OIEJBQ0tHUk9VTkQgQlVUVE9OLy9cblxuICAkdHJvbkJhY2tncm91bmQub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgIGNoYW5nZUJhY2tncm91bmQodHJvbkJnRmlsZSk7XG4gIH0pO1xuXG4vL1RSSUFOR0xFIEJBQ0tHUk9VTkQgQlVUVE9OLy9cblxuICAkdHJpYW5nbGVCYWNrZ3JvdW5kLm9uKCdjbGljaycsICgpID0+IHtcbiAgICBjaGFuZ2VCYWNrZ3JvdW5kKHRyaWFuZ2xlQmdGaWxlKTtcbiAgfSk7XG5cblxuICAvLyBDTElDSyBPTiBTUVVBUkU6IFBVVFMgWCBPUiBPIElOIFNRVUFSRSwgQ0hBTkdFUyBDT0xPUiwgIEFERFMgMSBUTyBUVVJOIENPVU5URVIsIE1BS0VTIFNRVUFSRSBVTlBMQVlBQkxFIChDQU4nVCBQTEFDRSBBTk9USEVSIFBJRUNFIE9OIFNRVUFSRSkgQU5EIE1BS0VTIFNRVUFSRSBBQk9WRSBQTEFZQUJMRVxuXG5cbiAgJGNlbGxzLm9uKCdjbGljaycsIChlKSA9PiB7XG4gICAgY29uc3QgY29sb3IgPSB0dXJuQ291bnRlciAlIDIgPT09IDAgPyAnIzAwRkZGRicgOiAnI0ZGMDBDQyc7XG4gICAgY29uc3QgY291bnRlciA9IHR1cm5Db3VudGVyICUgMiA9PT0gMCA/ICdYJyA6ICdPJztcbiAgICBpZiAoJChlLnRhcmdldCkuaGFzQ2xhc3MoJ3BsYXlhYmxlJykpIHtcbiAgICAgIGNvbnN0IGluZGV4ID0gJChlLnRhcmdldCkuaW5kZXgoKTtcbiAgICAgICQoZS50YXJnZXQpLmh0bWwoY291bnRlcik7XG4gICAgICAkKGUudGFyZ2V0KS5jc3MoJ2JhY2tncm91bmQtY29sb3InLCBjb2xvcik7XG4gICAgICAkKGUudGFyZ2V0KS5yZW1vdmVDbGFzcygncGxheWFibGUnKTtcbiAgICAgICQoZS50YXJnZXQpLmFkZENsYXNzKCdub3RwbGF5YWJsZScpO1xuICAgICAgJGNlbGxzLmVxKGluZGV4IC03KS5yZW1vdmVDbGFzcygnbm90cGxheWFibGUnKS5hZGRDbGFzcygncGxheWFibGUnKTtcbiAgICAgIHR1cm5Db3VudGVyKys7XG4gICAgICBjaGVja0ZvcldpbihpbmRleCk7XG4gICAgICAkYXVkaW8xLnNyYyA9ICdzb3VuZHMvYm9pbmcxLndhdic7XG4gICAgICAkYXVkaW8xLnBsYXkoKTtcbiAgICB9XG5cbiAgICAvLyBSRVNFVCBCVVRUT04gLSBTRVRTIEFMTCBIVE1MIElOIENFTExTIFRPIE5PVEhJTkcgQU5EIENIQU5HRVMgQUxMIEJBQ0tHUk9VTkQgVE8gVFJBTlNQQVJFTlQgLy9cblxuICAgICRyZXNldEJ1dHRvbi5vbignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgJGNlbGxzLmh0bWwoJyAnKTtcbiAgICAgICRjZWxscy5jc3MoJ2JhY2tncm91bmQnLCAndHJhbnNwYXJlbnQnKTtcbiAgICB9KTtcblxuXG4gICAgLy8gV0lOIENPTkRJVElPTlMgLy9cblxuXG4gICAgZnVuY3Rpb24gY2hlY2tGb3JXaW4oaW5kZXgpIHtcbiAgICAgIC8vIFZFUlRJQ0FMIFdJTiBDSEVDSyAtIEFTIFlPVSBDTElDSyBUTyBQTEFDRSBZT1VSIENPTE9VUiwgQ0hFQ0tTIEZPUiBNQVRDSElORyBDT0xPVVJTIElOIFRIRSBTUVVBUkVTIEJFTE9XLCBBQ0hJRVZFRCBCWSBBRERJTkcgVEhFIFdJRFRIIE9GRyBUSEUgQk9BUkQgKDcpIFRPIFRIRSBJTkRFWCBOVU1CRVIgT0YgVEhFIFNRVUFSRSBZT1UgQ0xJQ0tFRCBPTi8vXG5cbiAgICAgIGNvbnNvbGUubG9nKCdpbmRleCcsIGluZGV4LCAkY2VsbHMuZXEoaW5kZXgrNykpO1xuXG4gICAgICAvLyBjb25zdCBjdXJyZW50SW5kZXggPSAkKGUudGFyZ2V0KS5pbmRleCgpO1xuICAgICAgLy8gY29uc29sZS5sb2coJGNlbGxzLmVxKGluZGV4KzcpLmh0bWwoKSk7XG4gICAgICBpZiAoJGNlbGxzLmVxKGluZGV4KS5odG1sKCkgPT09ICRjZWxscy5lcShpbmRleCs3KS5odG1sKCkgJiZcbiAgICAgICRjZWxscy5lcShpbmRleCs3KS5odG1sKCkgPT09ICRjZWxscy5lcShpbmRleCsxNCkuaHRtbCgpICYmXG4gICAgICAkY2VsbHMuZXEoaW5kZXgrMTQpLmh0bWwoKSA9PT0gJGNlbGxzLmVxKGluZGV4KzIxKS5odG1sKCkpIHtcbiAgICAgICAgdmljdG9yeSh2V2luLHdpblNvdW5kLHZXaW5CYWNrZ3JvdW5kKTtcbiAgICAgIH1cblxuXG4gICAgICAvLyBESUFHT05BTCBXSU4gQ0hFQ0stIERJQUdPTkFMIFNRVUFSRVMgQVJFIE9OIFRIRSBXSURUSCBPRiBUSEUgQk9BUkQgKDcpIFBMVVMgT1IgTUlOVVMgT05FLiBBUyBZT1UgR08gVkVSVElDQUxMWSBVUCBUSEUgQk9BUkQgV0hJTEUgUExBWUlORywgVEhFIElOREVYIE9GIFRIRSBTUVVBUkUgWU9VIENMSUNLIE9OIFdJTEwgQkUgTE9XRVIsIFRIRVJFRk9SRSBXRSBORUVEIFRPIENIRUNLIFRIRSBTUVVBUkVTIEZVUlRIRVIgVVAgVEhFIElOREVYLCBIRU5DRSBUSEUgQ0hFQ0tTIEFSRSBQT1NJVElWRSBJTiBFSVRIRVIgTVVMVElQTEVTIE9GIDYoNy0xKSBPUiA4KDcrMSkuXG5cbiAgICAgIGlmICgkY2VsbHMuZXEoaW5kZXgpLmh0bWwoKSA9PT0gJGNlbGxzLmVxKGluZGV4KzYpLmh0bWwoKSAmJlxuICAgICAgJGNlbGxzLmVxKGluZGV4KzYpLmh0bWwoKSA9PT0gJGNlbGxzLmVxKGluZGV4KzEyKS5odG1sKCkgJiZcbiAgICAgICRjZWxscy5lcShpbmRleCsxMikuaHRtbCgpID09PSAkY2VsbHMuZXEoaW5kZXgrMTgpLmh0bWwoKVxuICAgICAgfHxcbiAgICAgICRjZWxscy5lcShpbmRleCkuaHRtbCgpID09PSAkY2VsbHMuZXEoaW5kZXgrOCkuaHRtbCgpICYmXG4gICAgICAkY2VsbHMuZXEoaW5kZXgrOCkuaHRtbCgpID09PSAkY2VsbHMuZXEoaW5kZXgrMTYpLmh0bWwoKSAmJlxuICAgICAgJGNlbGxzLmVxKGluZGV4KzE2KS5odG1sKCkgPT09ICRjZWxscy5lcShpbmRleCsyNCkuaHRtbCgpKSB7XG4gICAgICAgIHZpY3RvcnkoZFdpbix3aW5Tb3VuZCxkV2luQmFja2dyb3VuZCk7XG4gICAgICB9XG5cbiAgICAgIC8vIEhPUklaT05UQUwgV0lOIENIRUNLIC0gQ0hFQ0tTIFRPIFNFRSBXSEVUSEVSIENFTExTIEFSRSBJTiBUSEUgU0FNRSBST1cgQlkgVEFLSU5HIFRIRSBNQVRILkZMT09SIE9GIFRIRSBJTkRFWCBOVU1CRVIgT1ZFUiBUSEUgV0lEVEggT0YgVEhFIEJPQVJEICg3KS4gRklORFMgVE9QIE9GIFRIRSBSRUxFVkFOVCBST1cgQlkgQURESU5HIDYgVE8gVEhFIE1BVEguRkxPT1IgT0YgVEhFIENFTEwgSU5ERVggLyA3LiBTVEFSVFMgTE9PUCBBVCBUT1AgT0YgUk9XIExPT0tJTkcgRk9SIFNFUVVFTlRJQUwgTUFUQ0hFUyBJTiBUSEUgQ0VMTFMsIElGIElUIEZJTkRTIE9ORSwgVEhFIFNUUkVBSyBDT1VOVEVSIEFERFMgMS4gSE9SSVpPTlRBTCBXSU4gQU5OT1VOQ0VTIFdIRU4gU1RSRUFLIEhJVFMgNC5cblxuICAgICAgY29uc29sZS5sb2coTWF0aC5mbG9vcihpbmRleC83KSwgTWF0aC5mbG9vcigoaW5kZXgtMykvNyksIE1hdGguZmxvb3IoKGluZGV4KzMpLzcpKTtcblxuICAgICAgaWYgKE1hdGguZmxvb3IoaW5kZXgvNykgPT09IE1hdGguZmxvb3IoKGluZGV4LTMpLzcpIHx8IE1hdGguZmxvb3IoaW5kZXgvNykgPT09IE1hdGguZmxvb3IoKGluZGV4KzMpLzcpKXtcbiAgICAgICAgY29uc29sZS5sb2coJ2NoZWNraW5nIGhvcml6b250YWwgd2luJyk7XG4gICAgICAgIC8vIGZpbmQgdG9wIG9mIFJPV1xuICAgICAgICBsZXQgdG9wT2ZSb3cgPSBNYXRoLmZsb29yKGluZGV4LzcpICogNyArIDY7XG4gICAgICAgIGxldCBzdHJlYWsgID0gMDtcblxuICAgICAgICB3aGlsZSh0b3BPZlJvdyA+PSBNYXRoLmZsb29yKGluZGV4LzcpICogNyArIDMpIHtcbiAgICAgICAgICAvLyBjaGVjayA0IGZyb20gc3RhcnQgb2YgUk9XXG4gICAgICAgICAgWzAsLTEsLTIsLTNdLmZvckVhY2goKGkpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCh0dXJuQ291bnRlciAlIDIgPT09IDAgPyAnTycgOiAnWCcpKTtcbiAgICAgICAgICAgIGlmKCRjZWxscy5lcSh0b3BPZlJvdyArIGkpLmh0bWwoKSA9PT0gKHR1cm5Db3VudGVyICUgMiA9PT0gMCA/ICdPJyA6ICdYJykpIHtcbiAgICAgICAgICAgICAgc3RyZWFrKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZihzdHJlYWsgPT09IDQpIHtcbiAgICAgICAgICAgIHZpY3RvcnkoaFdpbix3aW5Tb3VuZCxoV2luQmFja2dyb3VuZCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0b3BPZlJvdy0tO1xuICAgICAgICAgIHN0cmVhayA9IDA7XG5cbiAgICAgICAgfVxuXG4gICAgICB9XG5cbiAgICB9XG4gIH0pO1xuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxufSk7XG4iXX0=
