"use strict";var cfour=cfour||{};cfour.askPlayerName1=prompt("Player 1 please enter your name?"),cfour.askPlayerName2=prompt("Player 2 please enter your name?"),cfour.turnCounter=null,cfour.vWin="vertical win",cfour.winSound="win",cfour.vWinBackground="taco.gif",cfour.hWin="horizontal win",cfour.hWinBackground="mandance.gif",cfour.dWin="diagonal win",cfour.dWinBackground="celebration.gif",cfour.sunBgFile="sunbackground.gif",cfour.tronBgFile="tronwallpaper.png",cfour.triangleBgFile="lasertriangle.gif",cfour.victory=function(t,i,s){console.log(""+t),responsiveVoice.speak(""+t),this.$audio2.src="sounds/"+i+".wav",this.$audio2.play(),this.$audio.pause(),this.$playerDisplay.html(""+t),this.$body.css("background-image","url(public/css/"+s+")")},cfour.changeBackground=function(t){console.log("change background!"),this.$body.css("background-image","url(public/css/"+t+")")},cfour.setupGame=function(){this.$startgame.slideDown(200),this.$stopMusic.slideDown(200),this.$resetButton.slideDown(200)},cfour.backgroundOptions=function(){this.$sunBackground.slideDown(200),this.$tronBackground.slideDown(200),this.$triangleBackground.slideDown(200)},cfour.startGame=function(){console.log("clicked"),this.$audio.src="sounds/arcadefunk.mp3",this.$audio.play(),responsiveVoice.speak("Hello "+cfour.askPlayerName1+" and "+cfour.askPlayerName2+", welcome to funky laser connect 4, I am the game master, begin!")},cfour.stopMusic=function(){console.log("stop music!"),this.$audio.pause()},cfour.resetButton=function(){var t=this;this.$cells.html(""),this.$playerDisplay.html("win display"),this.$cells.removeClass("pink blue playable"),this.$cells.addClass("notplayable"),[35,36,37,38,39,40,41].forEach(function(i){t.$cells.eq(i).removeClass("notplayable").addClass("playable")}),this.changeBackground(this.triangleBgFile)},cfour.sunBackground=function(){this.changeBackground(this.sunBgFile)},cfour.tronBackground=function(){this.changeBackground(this.tronBgFile)},cfour.triangleBackground=function(){this.changeBackground(this.triangleBgFile)},cfour.squareClick=function(t){console.log("clikety click");var i=this.turnCounter%2==0?"blue":"pink",s=this.turnCounter%2==0?"X":"O";if($(t.target).hasClass("playable")){var o=$(t.target).index();$(t.target).html(s),$(t.target).addClass(i),$(t.target).removeClass("playable"),$(t.target).addClass("notplayable"),this.$cells.eq(o-7).removeClass("notplayable").addClass("playable"),this.turnCounter++,this.checkForWin(o),this.$audio1.src="sounds/boing1.wav",this.$audio1.play()}},cfour.checkForWin=function(t){var i=this;console.log("index",t,cfour.$cells.eq(t+7)),this.$cells.eq(t).html()===this.$cells.eq(t+7).html()&&this.$cells.eq(t+7).html()===this.$cells.eq(t+14).html()&&this.$cells.eq(t+14).html()===this.$cells.eq(t+21).html()&&this.victory(this.vWin,this.winSound,this.vWinBackground),(this.$cells.eq(t).html()===this.$cells.eq(t+6).html()&&this.$cells.eq(t+6).html()===this.$cells.eq(t+12).html()&&this.$cells.eq(t+12).html()===this.$cells.eq(t+18).html()||this.$cells.eq(t).html()===this.$cells.eq(t+8).html()&&this.$cells.eq(t+8).html()===this.$cells.eq(t+16).html()&&this.$cells.eq(t+16).html()===this.$cells.eq(t+24).html())&&this.victory(this.dWin,this.winSound,this.dWinBackground),console.log(Math.floor(t/7),Math.floor((t-3)/7),Math.floor((t+3)/7)),Math.floor(t/7)!==Math.floor((t-3)/7)&&Math.floor(t/7)!==Math.floor((t+3)/7)||function(){console.log("checking horizontal win");for(var s=7*Math.floor(t/7)+6,o=0;s>=7*Math.floor(t/7)+3;){if([0,-1,-2,-3].forEach(function(t){console.log(i.turnCounter%2==0?"O":"X"),i.$cells.eq(s+t).html()===(i.turnCounter%2==0?"O":"X")&&o++}),4===o){i.victory(i.hWin,i.winSound,i.hWinBackground);break}s--,o=0}}()},cfour.setup=function(){this.$startgame=$("#startgame"),this.$audio=$("#audiobackground")[0],this.$audio1=$("#audioclick")[0],this.$audio2=$("#audiowin")[0],this.$resetButton=$("#reset"),this.$stopMusic=$("#stopmusic"),this.$sunBackground=$("#sunbackground"),this.$tronBackground=$("#tronbackground"),this.$triangleBackground=$("#trianglebackground"),this.$body=$("body"),this.$playerDisplay=$(".playerdisplay"),this.$cells=$(".cell"),this.$gameSetupButton=$("#game_setup_button"),this.$backgroundOptionsButton=$("#background_options_button"),this.$gameSetupButton.on("click",this.setupGame.bind(this)),this.$backgroundOptionsButton.on("click",this.backgroundOptions.bind(this)),this.$startgame.on("click",this.startGame.bind(this)),this.$stopMusic.on("click",this.stopMusic.bind(this)),this.$resetButton.on("click",this.resetButton.bind(this)),this.$sunBackground.on("click",this.sunBackground.bind(this)),this.$tronBackground.on("click",this.tronBackground.bind(this)),this.$triangleBackground.on("click",this.triangleBackground.bind(this)),this.$cells.on("click",this.squareClick.bind(this))},$(cfour.setup.bind(cfour));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJjZm91ciIsImFza1BsYXllck5hbWUxIiwicHJvbXB0IiwiYXNrUGxheWVyTmFtZTIiLCJ0dXJuQ291bnRlciIsInZXaW4iLCJ3aW5Tb3VuZCIsInZXaW5CYWNrZ3JvdW5kIiwiaFdpbiIsImhXaW5CYWNrZ3JvdW5kIiwiZFdpbiIsImRXaW5CYWNrZ3JvdW5kIiwic3VuQmdGaWxlIiwidHJvbkJnRmlsZSIsImNvbnNvbGUiLCJBIiwiQiIsIkMiLCJyZXNwb25zaXZlVm9pY2UiLCJzcGVhayIsInRoaXMiLCIkYXVkaW8yIiwicGxheSIsIiRhdWRpbyIsInBhdXNlIiwiJHBsYXllckRpc3BsYXkiLCIkYm9keSIsImh0bWwiLCJjc3MiLCJEIiwic2V0dXBHYW1lIiwic2xpZGVEb3duIiwiJHN0b3BNdXNpYyIsIiRyZXNldEJ1dHRvbiIsImJhY2tncm91bmRPcHRpb25zIiwiJHRyb25CYWNrZ3JvdW5kIiwiJHRyaWFuZ2xlQmFja2dyb3VuZCIsInNyYyIsInJlc2V0QnV0dG9uIiwiX3RoaXMiLCIkY2VsbHMiLCJyZW1vdmVDbGFzcyIsImFkZENsYXNzIiwiaW5kaWNlcyIsImluZGV4IiwiZm9yRWFjaCIsImNoYW5nZUJhY2tncm91bmQiLCJ0cmlhbmdsZUJnRmlsZSIsInN1bkJhY2tncm91bmQiLCJ0cm9uQmFja2dyb3VuZCIsInRyaWFuZ2xlQmFja2dyb3VuZCIsInNxdWFyZUNsaWNrIiwiZSIsImNvbG9yIiwiY291bnRlciIsImhhc0NsYXNzIiwidGFyZ2V0IiwiJCIsImNoZWNrRm9yV2luIiwiJGF1ZGlvMSIsIl90aGlzMiIsImxvZyIsImVxIiwidmljdG9yeSIsIk1hdGgiLCJmbG9vciIsInRvcE9mUm93Iiwic3RyZWFrIiwiaSIsInNldHVwIiwiJGdhbWVTZXR1cEJ1dHRvbiIsIiRiYWNrZ3JvdW5kT3B0aW9uc0J1dHRvbiIsIiRzdGFydGdhbWUiLCJzdGFydEdhbWUiLCJvbiIsImJpbmQiLCJzdG9wTXVzaWMiLCIkc3Vu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LEVBQUFBLGNBQ0xsRCxLQUFLbUQsZUFBQUEsRUFBQUEsa0JBTkxuRCxLQUFLZSxnQkFBa0JzQixFQUFFLG1CQVF6QnJDLEtBQUFnQixvQkFBQXFCLEVBQUEsdUJBQ0FyQyxLQUFLa0QsTUFBQUEsRUFBQUEsUUFDTGxELEtBQUFLLGVBQUFnQyxFQUFBLGtCQUNBckMsS0FBS21ELE9BQUFBLEVBQUFBLFNBQ0xuRCxLQUFBa0QsaUJBQUFiLEVBQUEsc0JBQ0FyQyxLQUFLb0QseUJBQXVCZixFQUFLZ0IsOEJBR2pDckQsS0FBQWtELGlCQUFBSSxHQUFBLFFBQUF0RCxLQUFBVSxVQUFBNkMsS0FBQXZELE9BRUFBLEtBQUFtRCx5QkFBQUcsR0FBQSxRQUFBdEQsS0FBQWMsa0JBQUF5QyxLQUFBdkQsT0FFQUEsS0FBQW9ELFdBQUFFLEdBQUEsUUFBQXRELEtBQUFxRCxVQUFBRSxLQUFBdkQsT0FFQUEsS0FBQVksV0FBQTBDLEdBQUEsUUFBQXRELEtBQUF3RCxVQUFBRCxLQUFBdkQsT0FFQUEsS0FBQWEsYUFBQXlDLEdBQUEsUUFBQXRELEtBQUFrQixZQUFBcUMsS0FBQXZELE9BbENGQSxLQUFBeUQsZUFBQUgsR0FBQSxRQUFBdEQsS0FBQTRCLGNBQUEyQixLQUFBdkQsT0F3Q0VwQixLQUFBQSxnQkFBaUJBLEdBQW5CLFFBQUFvQixLQUFBNkIsZUFBQTBCLEtBQUF2RCxPQVBFQSxLQUFLZ0Isb0JBQW9Cc0MsR0FBRyxRQUFTdEQsS0FBSzhCLG1CQUFtQnlCLEtBQUt2RCxPQUVsRUEsS0FBS29CLE9BQU9rQyxHQUFHLFFBQVN0RCxLQUFLK0IsWUFBWXdCLEtBQUt2RCxRQUtoRHFDLEVBQUV6RCxNQUFNcUUsTUFBTU0sS0FBSzNFIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGdsb2JhbCByZXNwb25zaXZlVm9pY2UgKi9cblxuLy8gQ09OU1RBTlRTIEVUQyAvL1xuXG52YXIgY2ZvdXIgPSBjZm91ciB8fCB7fTtcblxuXG5jZm91ci5hc2tQbGF5ZXJOYW1lMSA9IHByb21wdCgnUGxheWVyIDEgcGxlYXNlIGVudGVyIHlvdXIgbmFtZT8nKTtcbmNmb3VyLmFza1BsYXllck5hbWUyID0gcHJvbXB0KCdQbGF5ZXIgMiBwbGVhc2UgZW50ZXIgeW91ciBuYW1lPycpO1xuY2ZvdXIudHVybkNvdW50ZXIgPSBudWxsO1xuY2ZvdXIudldpbiA9ICd2ZXJ0aWNhbCB3aW4nO1xuY2ZvdXIud2luU291bmQgPSAnd2luJztcbmNmb3VyLnZXaW5CYWNrZ3JvdW5kID0gJ3RhY28uZ2lmJztcbmNmb3VyLmhXaW4gPSAnaG9yaXpvbnRhbCB3aW4nO1xuY2ZvdXIuaFdpbkJhY2tncm91bmQgPSAnbWFuZGFuY2UuZ2lmJztcbmNmb3VyLmRXaW4gPSAnZGlhZ29uYWwgd2luJztcbmNmb3VyLmRXaW5CYWNrZ3JvdW5kID0gJ2NlbGVicmF0aW9uLmdpZic7XG5jZm91ci5zdW5CZ0ZpbGUgPSAnc3VuYmFja2dyb3VuZC5naWYnO1xuY2ZvdXIudHJvbkJnRmlsZSA9ICd0cm9ud2FsbHBhcGVyLnBuZyc7XG5jZm91ci50cmlhbmdsZUJnRmlsZSA9ICdsYXNlcnRyaWFuZ2xlLmdpZic7XG5cblxuXG5jZm91ci52aWN0b3J5ID0gZnVuY3Rpb24gdmljdG9yeSAoQSxCLEMpIHtcbiAgY29uc29sZS5sb2coYCR7QX1gKTtcbiAgcmVzcG9uc2l2ZVZvaWNlLnNwZWFrKGAke0F9YCk7XG4gIHRoaXMuJGF1ZGlvMi5zcmMgPSBgc291bmRzLyR7Qn0ud2F2YDtcbiAgdGhpcy4kYXVkaW8yLnBsYXkoKTtcbiAgdGhpcy4kYXVkaW8ucGF1c2UoKTtcbiAgdGhpcy4kcGxheWVyRGlzcGxheS5odG1sKGAke0F9YCk7XG4gIHRoaXMuJGJvZHkuY3NzKCdiYWNrZ3JvdW5kLWltYWdlJywgYHVybChwdWJsaWMvY3NzLyR7Q30pYCk7XG59O1xuXG5jZm91ci5jaGFuZ2VCYWNrZ3JvdW5kID0gZnVuY3Rpb24gY2hhbmdlQmFja2dyb3VuZCAoRCkge1xuICBjb25zb2xlLmxvZygnY2hhbmdlIGJhY2tncm91bmQhJyk7XG4gIHRoaXMuJGJvZHkuY3NzKCdiYWNrZ3JvdW5kLWltYWdlJywgYHVybChwdWJsaWMvY3NzLyR7RH0pYCk7XG59O1xuXG5jZm91ci5zZXR1cEdhbWUgPSBmdW5jdGlvbiBzZXR1cEdhbWUoKSB7XG4gIHRoaXMuJHN0YXJ0Z2FtZS5zbGlkZURvd24oMjAwKTtcbiAgdGhpcy4kc3RvcE11c2ljLnNsaWRlRG93bigyMDApO1xuICB0aGlzLiRyZXNldEJ1dHRvbi5zbGlkZURvd24oMjAwKTtcbn07XG5cbmNmb3VyLmJhY2tncm91bmRPcHRpb25zID0gZnVuY3Rpb24gYmFja2dyb3VuZE9wdGlvbnMoKSB7XG4gIHRoaXMuJHN1bkJhY2tncm91bmQuc2xpZGVEb3duKDIwMCk7XG4gIHRoaXMuJHRyb25CYWNrZ3JvdW5kLnNsaWRlRG93bigyMDApO1xuICB0aGlzLiR0cmlhbmdsZUJhY2tncm91bmQuc2xpZGVEb3duKDIwMCk7XG59O1xuXG5jZm91ci5zdGFydEdhbWUgPSBmdW5jdGlvbiBzdGFydEdhbWUgKCkge1xuICBjb25zb2xlLmxvZygnY2xpY2tlZCcpO1xuICB0aGlzLiRhdWRpby5zcmMgPSAnc291bmRzL2FyY2FkZWZ1bmsubXAzJztcbiAgdGhpcy4kYXVkaW8ucGxheSgpO1xuICByZXNwb25zaXZlVm9pY2Uuc3BlYWsoYEhlbGxvICR7Y2ZvdXIuYXNrUGxheWVyTmFtZTF9IGFuZCAke2Nmb3VyLmFza1BsYXllck5hbWUyfSwgd2VsY29tZSB0byBmdW5reSBsYXNlciBjb25uZWN0IDQsIEkgYW0gdGhlIGdhbWUgbWFzdGVyLCBiZWdpbiFgKTtcbn07XG5cbmNmb3VyLnN0b3BNdXNpYyA9IGZ1bmN0aW9uIHN0b3BNdXNpYyAoKSB7XG4gIGNvbnNvbGUubG9nKCdzdG9wIG11c2ljIScpO1xuICB0aGlzLiRhdWRpby5wYXVzZSgpO1xufTtcblxuY2ZvdXIucmVzZXRCdXR0b24gPSBmdW5jdGlvbiByZXNldEJ1dHRvbiAoKSB7XG4gIHRoaXMuJGNlbGxzLmh0bWwoJycpO1xuICB0aGlzLiRwbGF5ZXJEaXNwbGF5Lmh0bWwoJ3dpbiBkaXNwbGF5Jyk7XG4gIHRoaXMuJGNlbGxzLnJlbW92ZUNsYXNzKCdwaW5rIGJsdWUgcGxheWFibGUnKTtcbiAgdGhpcy4kY2VsbHMuYWRkQ2xhc3MoJ25vdHBsYXlhYmxlJyk7XG4gIGNvbnN0IGluZGljZXMgPSBbMzUsMzYsMzcsMzgsMzksNDAsNDFdO1xuICBpbmRpY2VzLmZvckVhY2goKGluZGV4KT0+e1xuICAgIHRoaXMuJGNlbGxzLmVxKGluZGV4KS5yZW1vdmVDbGFzcygnbm90cGxheWFibGUnKS5hZGRDbGFzcygncGxheWFibGUnKTtcbiAgfSk7XG4gIHRoaXMuY2hhbmdlQmFja2dyb3VuZCh0aGlzLnRyaWFuZ2xlQmdGaWxlKTtcbn07XG5cbmNmb3VyLnN1bkJhY2tncm91bmQgPSBmdW5jdGlvbiBzdW5CYWNrZ3JvdW5kICgpIHtcbiAgdGhpcy5jaGFuZ2VCYWNrZ3JvdW5kKHRoaXMuc3VuQmdGaWxlKTtcbn07XG5cbmNmb3VyLnRyb25CYWNrZ3JvdW5kID0gZnVuY3Rpb24gdHJvbkJhY2tncm91bmQgICAoKSB7XG4gIHRoaXMuY2hhbmdlQmFja2dyb3VuZCh0aGlzLnRyb25CZ0ZpbGUpO1xufTtcblxuY2ZvdXIudHJpYW5nbGVCYWNrZ3JvdW5kID0gZnVuY3Rpb24gdHJpYW5nbGVCYWNrZ3JvdW5kICgpIHtcbiAgdGhpcy5jaGFuZ2VCYWNrZ3JvdW5kKHRoaXMudHJpYW5nbGVCZ0ZpbGUpO1xufTtcblxuLy8gQ0xJQ0sgT04gU1FVQVJFOiBQVVRTIFggT1IgTyBJTiBTUVVBUkUsIENIQU5HRVMgQ09MT1IsICBBRERTIDEgVE8gVFVSTiBDT1VOVEVSLCBNQUtFUyBTUVVBUkUgVU5QTEFZQUJMRSAoQ0FOJ1QgUExBQ0UgQU5PVEhFUiBQSUVDRSBPTiBTUVVBUkUpIEFORCBNQUtFUyBTUVVBUkUgQUJPVkUgUExBWUFCTEVcblxuY2ZvdXIuc3F1YXJlQ2xpY2sgPSBmdW5jdGlvbiBzcXVhcmVDbGljayAoZSkge1xuICBjb25zb2xlLmxvZygnY2xpa2V0eSBjbGljaycpO1xuICBjb25zdCBjb2xvciA9IHRoaXMudHVybkNvdW50ZXIgJSAyID09PSAwID8gJ2JsdWUnIDogJ3BpbmsnO1xuICBjb25zdCBjb3VudGVyID0gdGhpcy50dXJuQ291bnRlciAlIDIgPT09IDAgPyAnWCcgOiAnTyc7XG4gIGlmICgkKGUudGFyZ2V0KS5oYXNDbGFzcygncGxheWFibGUnKSkge1xuICAgIGNvbnN0IGluZGV4ID0gJChlLnRhcmdldCkuaW5kZXgoKTtcbiAgICAkKGUudGFyZ2V0KS5odG1sKGNvdW50ZXIpO1xuICAgICQoZS50YXJnZXQpLmFkZENsYXNzKGNvbG9yKTtcbiAgICAkKGUudGFyZ2V0KS5yZW1vdmVDbGFzcygncGxheWFibGUnKTtcbiAgICAkKGUudGFyZ2V0KS5hZGRDbGFzcygnbm90cGxheWFibGUnKTtcbiAgICB0aGlzLiRjZWxscy5lcShpbmRleCAtNykucmVtb3ZlQ2xhc3MoJ25vdHBsYXlhYmxlJykuYWRkQ2xhc3MoJ3BsYXlhYmxlJyk7XG4gICAgdGhpcy50dXJuQ291bnRlcisrO1xuICAgIHRoaXMuY2hlY2tGb3JXaW4oaW5kZXgpO1xuICAgIHRoaXMuJGF1ZGlvMS5zcmMgPSAnc291bmRzL2JvaW5nMS53YXYnO1xuICAgIHRoaXMuJGF1ZGlvMS5wbGF5KCk7XG4gIH1cbn07XG5cbiAgLy8gV0lOIENPTkRJVElPTlMgLy9cblxuXG5jZm91ci5jaGVja0ZvcldpbiA9IGZ1bmN0aW9uIGNoZWNrRm9yV2luKGluZGV4KSB7XG4gIC8vIFZFUlRJQ0FMIFdJTiBDSEVDSyAtIEFTIFlPVSBDTElDSyBUTyBQTEFDRSBZT1VSIENPTE9VUiwgQ0hFQ0tTIEZPUiBNQVRDSElORyBDT0xPVVJTIElOIFRIRSBTUVVBUkVTIEJFTE9XLCBBQ0hJRVZFRCBCWSBBRERJTkcgVEhFIFdJRFRIIE9GRyBUSEUgQk9BUkQgKDcpIFRPIFRIRSBJTkRFWCBOVU1CRVIgT0YgVEhFIFNRVUFSRSBZT1UgQ0xJQ0tFRCBPTi8vXG5cbiAgY29uc29sZS5sb2coJ2luZGV4JywgaW5kZXgsIGNmb3VyLiRjZWxscy5lcShpbmRleCs3KSk7XG5cbiAgLy8gY29uc3QgY3VycmVudEluZGV4ID0gJChlLnRhcmdldCkuaW5kZXgoKTtcbiAgLy8gY29uc29sZS5sb2coJGNlbGxzLmVxKGluZGV4KzcpLmh0bWwoKSk7XG4gIGlmICh0aGlzLiRjZWxscy5lcShpbmRleCkuaHRtbCgpID09PSB0aGlzLiRjZWxscy5lcShpbmRleCs3KS5odG1sKCkgJiZcbiAgdGhpcy4kY2VsbHMuZXEoaW5kZXgrNykuaHRtbCgpID09PSB0aGlzLiRjZWxscy5lcShpbmRleCsxNCkuaHRtbCgpICYmXG4gIHRoaXMuJGNlbGxzLmVxKGluZGV4KzE0KS5odG1sKCkgPT09IHRoaXMuJGNlbGxzLmVxKGluZGV4KzIxKS5odG1sKCkpIHtcbiAgICB0aGlzLnZpY3RvcnkodGhpcy52V2luLHRoaXMud2luU291bmQsdGhpcy52V2luQmFja2dyb3VuZCk7XG4gIH1cblxuXG4gIC8vIERJQUdPTkFMIFdJTiBDSEVDSy0gRElBR09OQUwgU1FVQVJFUyBBUkUgT04gVEhFIFdJRFRIIE9GIFRIRSBCT0FSRCAoNykgUExVUyBPUiBNSU5VUyBPTkUuIEFTIFlPVSBHTyBWRVJUSUNBTExZIFVQIFRIRSBCT0FSRCBXSElMRSBQTEFZSU5HLCBUSEUgSU5ERVggT0YgVEhFIFNRVUFSRSBZT1UgQ0xJQ0sgT04gV0lMTCBCRSBMT1dFUiwgVEhFUkVGT1JFIFdFIE5FRUQgVE8gQ0hFQ0sgVEhFIFNRVUFSRVMgRlVSVEhFUiBVUCBUSEUgSU5ERVgsIEhFTkNFIFRIRSBDSEVDS1MgQVJFIFBPU0lUSVZFIElOIEVJVEhFUiBNVUxUSVBMRVMgT0YgNig3LTEpIE9SIDgoNysxKS5cblxuICBpZiAodGhpcy4kY2VsbHMuZXEoaW5kZXgpLmh0bWwoKSA9PT0gdGhpcy4kY2VsbHMuZXEoaW5kZXgrNikuaHRtbCgpICYmXG4gIHRoaXMuJGNlbGxzLmVxKGluZGV4KzYpLmh0bWwoKSA9PT0gdGhpcy4kY2VsbHMuZXEoaW5kZXgrMTIpLmh0bWwoKSAmJlxuICB0aGlzLiRjZWxscy5lcShpbmRleCsxMikuaHRtbCgpID09PSB0aGlzLiRjZWxscy5lcShpbmRleCsxOCkuaHRtbCgpXG4gIHx8XG4gIHRoaXMuJGNlbGxzLmVxKGluZGV4KS5odG1sKCkgPT09IHRoaXMuJGNlbGxzLmVxKGluZGV4KzgpLmh0bWwoKSAmJlxuICB0aGlzLiRjZWxscy5lcShpbmRleCs4KS5odG1sKCkgPT09IHRoaXMuJGNlbGxzLmVxKGluZGV4KzE2KS5odG1sKCkgJiZcbiAgdGhpcy4kY2VsbHMuZXEoaW5kZXgrMTYpLmh0bWwoKSA9PT0gdGhpcy4kY2VsbHMuZXEoaW5kZXgrMjQpLmh0bWwoKSkge1xuICAgIHRoaXMudmljdG9yeSh0aGlzLmRXaW4sdGhpcy53aW5Tb3VuZCx0aGlzLmRXaW5CYWNrZ3JvdW5kKTtcbiAgfVxuXG4gIC8vIEhPUklaT05UQUwgV0lOIENIRUNLIC0gQ0hFQ0tTIFRPIFNFRSBXSEVUSEVSIENFTExTIEFSRSBJTiBUSEUgU0FNRSBST1cgQlkgVEFLSU5HIFRIRSBNQVRILkZMT09SIE9GIFRIRSBJTkRFWCBOVU1CRVIgT1ZFUiBUSEUgV0lEVEggT0YgVEhFIEJPQVJEICg3KS4gRklORFMgVE9QIE9GIFRIRSBSRUxFVkFOVCBST1cgQlkgQURESU5HIDYgVE8gVEhFIE1BVEguRkxPT1IgT0YgVEhFIENFTEwgSU5ERVggLyA3LiBTVEFSVFMgTE9PUCBBVCBUT1AgT0YgUk9XIExPT0tJTkcgRk9SIFNFUVVFTlRJQUwgTUFUQ0hFUyBJTiBUSEUgQ0VMTFMsIElGIElUIEZJTkRTIE9ORSwgVEhFIFNUUkVBSyBDT1VOVEVSIEFERFMgMS4gSE9SSVpPTlRBTCBXSU4gQU5OT1VOQ0VTIFdIRU4gU1RSRUFLIEhJVFMgNC5cblxuICBjb25zb2xlLmxvZyhNYXRoLmZsb29yKGluZGV4LzcpLCBNYXRoLmZsb29yKChpbmRleC0zKS83KSwgTWF0aC5mbG9vcigoaW5kZXgrMykvNykpO1xuXG4gIGlmIChNYXRoLmZsb29yKGluZGV4LzcpID09PSBNYXRoLmZsb29yKChpbmRleC0zKS83KSB8fCBNYXRoLmZsb29yKGluZGV4LzcpID09PSBNYXRoLmZsb29yKChpbmRleCszKS83KSl7XG4gICAgY29uc29sZS5sb2coJ2NoZWNraW5nIGhvcml6b250YWwgd2luJyk7XG4gICAgLy8gZmluZCB0b3Agb2YgUk9XXG4gICAgbGV0IHRvcE9mUm93ID0gTWF0aC5mbG9vcihpbmRleC83KSAqIDcgKyA2O1xuICAgIGxldCBzdHJlYWsgID0gMDtcblxuICAgIHdoaWxlKHRvcE9mUm93ID49IE1hdGguZmxvb3IoaW5kZXgvNykgKiA3ICsgMykge1xuICAgICAgLy8gY2hlY2sgNCBmcm9tIHN0YXJ0IG9mIFJPV1xuICAgICAgWzAsLTEsLTIsLTNdLmZvckVhY2goKGkpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coKHRoaXMudHVybkNvdW50ZXIgJSAyID09PSAwID8gJ08nIDogJ1gnKSk7XG4gICAgICAgIGlmKHRoaXMuJGNlbGxzLmVxKHRvcE9mUm93ICsgaSkuaHRtbCgpID09PSAodGhpcy50dXJuQ291bnRlciAlIDIgPT09IDAgPyAnTycgOiAnWCcpKSB7XG4gICAgICAgICAgc3RyZWFrKys7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBpZihzdHJlYWsgPT09IDQpIHtcbiAgICAgICAgdGhpcy52aWN0b3J5KHRoaXMuaFdpbix0aGlzLndpblNvdW5kLHRoaXMuaFdpbkJhY2tncm91bmQpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgdG9wT2ZSb3ctLTtcbiAgICAgIHN0cmVhayA9IDA7XG5cbiAgICB9XG5cbiAgfVxuXG59O1xuXG5jZm91ci5zZXR1cCA9IGZ1bmN0aW9uIHNldHVwKCkge1xuICAvLyBhbGwgdmFyaWFibGVzIGZyb20gdGhlIERPTVxuICAvLyBhbGwgZXZlbnQgaGFuZGxlcnNcbiAgdGhpcy4kc3RhcnRnYW1lID0gJCgnI3N0YXJ0Z2FtZScpO1xuICB0aGlzLiRhdWRpbyA9ICQoJyNhdWRpb2JhY2tncm91bmQnKVswXTtcbiAgdGhpcy4kYXVkaW8xID0gJCgnI2F1ZGlvY2xpY2snKVswXTtcbiAgdGhpcy4kYXVkaW8yID0gJCgnI2F1ZGlvd2luJylbMF07XG4gIHRoaXMuJHJlc2V0QnV0dG9uID0gJCgnI3Jlc2V0Jyk7XG4gIHRoaXMuJHN0b3BNdXNpYyA9ICQoJyNzdG9wbXVzaWMnKTtcbiAgdGhpcy4kc3VuQmFja2dyb3VuZCA9ICQoJyNzdW5iYWNrZ3JvdW5kJyk7XG4gIHRoaXMuJHRyb25CYWNrZ3JvdW5kID0gJCgnI3Ryb25iYWNrZ3JvdW5kJyk7XG4gIHRoaXMuJHRyaWFuZ2xlQmFja2dyb3VuZCA9ICQoJyN0cmlhbmdsZWJhY2tncm91bmQnKTtcbiAgdGhpcy4kYm9keSA9ICQoJ2JvZHknKTtcbiAgdGhpcy4kcGxheWVyRGlzcGxheSA9ICQoJy5wbGF5ZXJkaXNwbGF5Jyk7XG4gIHRoaXMuJGNlbGxzID0gJCgnLmNlbGwnKTtcbiAgdGhpcy4kZ2FtZVNldHVwQnV0dG9uID0gJCgnI2dhbWVfc2V0dXBfYnV0dG9uJyk7XG4gIHRoaXMuJGJhY2tncm91bmRPcHRpb25zQnV0dG9uID0gJCgnI2JhY2tncm91bmRfb3B0aW9uc19idXR0b24nKTtcblxuICAvLyBHQU1FIFNFVFVQIERST1BET1dOIC8vXG4gIHRoaXMuJGdhbWVTZXR1cEJ1dHRvbi5vbignY2xpY2snLCB0aGlzLnNldHVwR2FtZS5iaW5kKHRoaXMpKTtcbiAgLy8gQkFDS0dST1VORCBPUFRJT05TIERST1BET1dOIC8vXG4gIHRoaXMuJGJhY2tncm91bmRPcHRpb25zQnV0dG9uLm9uKCdjbGljaycsIHRoaXMuYmFja2dyb3VuZE9wdGlvbnMuYmluZCh0aGlzKSk7XG4gIC8vIFNUQVJUIEdBTUUgQlVUVE9OIC8vXG4gIHRoaXMuJHN0YXJ0Z2FtZS5vbignY2xpY2snLCB0aGlzLnN0YXJ0R2FtZS5iaW5kKHRoaXMpKTtcbiAgLy9TVE9QIE1VU0lDIEJVVFRPTi8vXG4gIHRoaXMuJHN0b3BNdXNpYy5vbignY2xpY2snLCB0aGlzLnN0b3BNdXNpYy5iaW5kKHRoaXMpKTtcbiAgLy8gUkVTRVQgQlVUVE9OIC0gU0VUUyBBTEwgSFRNTCBJTiBDRUxMUyBUTyBOT1RISU5HIEFORCBDSEFOR0VTIEFMTCBCQUNLR1JPVU5EIFRPIFRSQU5TUEFSRU5UIC8vXG4gIHRoaXMuJHJlc2V0QnV0dG9uLm9uKCdjbGljaycsIHRoaXMucmVzZXRCdXR0b24uYmluZCh0aGlzKSk7XG4gIC8vU1VOIEJBQ0tHUk9VTkQgQlVUVE9OLy9cbiAgdGhpcy4kc3VuQmFja2dyb3VuZC5vbignY2xpY2snLCB0aGlzLnN1bkJhY2tncm91bmQuYmluZCh0aGlzKSk7XG4gIC8vVFJPTiBCQUNLR1JPVU5EIEJVVFRPTi8vXG4gIHRoaXMuJHRyb25CYWNrZ3JvdW5kLm9uKCdjbGljaycsIHRoaXMudHJvbkJhY2tncm91bmQuYmluZCh0aGlzKSk7XG4gIC8vVFJJQU5HTEUgQkFDS0dST1VORCBCVVRUT04vL1xuICB0aGlzLiR0cmlhbmdsZUJhY2tncm91bmQub24oJ2NsaWNrJywgdGhpcy50cmlhbmdsZUJhY2tncm91bmQuYmluZCh0aGlzKSk7XG4gIC8vU1FVQVJFIENMSUNLLy9cbiAgdGhpcy4kY2VsbHMub24oJ2NsaWNrJywgdGhpcy5zcXVhcmVDbGljay5iaW5kKHRoaXMpKTtcblxufTtcblxuXG4kKGNmb3VyLnNldHVwLmJpbmQoY2ZvdXIpKTtcbiJdfQ==
